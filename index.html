<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TR·∫†M S·∫†C PIN RI√äNG C·ª¶A D√ä B√îNG üîã</title>
    <link rel="icon" href="assets/images/favicon.svg" type="image/svg+xml">
    <link rel="apple-touch-icon" href="assets/images/logo.png">
    <link rel="manifest" href="manifest.json">
    <link rel="stylesheet" href="assets/css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js"></script>

</head>

<body>

    <div class="theme-switch-wrapper">
        <button class="theme-switch" id="theme-toggle">
            <i class="fas fa-moon"></i>
        </button>
    </div>

    <div class="sidebar-toggle" id="sidebar-toggle">
        <i class="fas fa-bars"></i>
    </div>

    <div class="overlay" id="overlay"></div>

    <nav class="sidebar" id="sidebar">
        <div class="sidebar-header">
            <div class="user-profile">
                <img src="assets/images/avatar.jpg" alt="D√™ B√¥ng" class="user-avatar">
                <h3>D√™ B√¥ng üêè</h3>
            </div>
            <button id="close-sidebar"><i class="fas fa-times"></i></button>
        </div>
        <ul class="nav-list">
            <li class="nav-item active" data-target="player-section"><span class="nav-icon">üéµ</span> Nghe Nh·∫°c</li>
            <li class="nav-item" data-target="diary-section"><span class="nav-icon">üìñ</span> Nh·∫≠t K√Ω T√¢m Tr·∫°ng</li>
            <li class="nav-item" id="lock-secret-btn" style="display: none; color: #ff6b6b;"><span
                    class="nav-icon">üîí</span> Kh√≥a L·∫°i</li>
        </ul>
        <div class="sidebar-footer">
            <p>Code by ‚ù§Ô∏è</p>
        </div>
    </nav>

    <div class="main-content">
        <section id="player-section" class="content-section active">
            <!-- Greeting Area (Moved here) -->
            <div class="greeting-container" id="greeting"></div>

            <div class="player">
                <!-- Mode Tabs (Integrated) -->
                <div class="mode-tabs">
                    <div class="mode-highlight" id="mode-highlight"></div>
                    <button class="mode-btn active" data-mode="chill" onclick="switchMode('chill')">Chill üçÉ</button>
                    <button class="mode-btn" data-mode="suy" onclick="switchMode('suy')">Suy üåßÔ∏è</button>
                </div>

                <div class="now-playing">TR·∫†M S·∫†C PIN RI√äNG C·ª¶A D√ä B√îNG üîã</div>

                <div class="disk-container">
                    <div class="disk" id="disk"></div>

                    <!-- Message Bubble -->
                    <div class="dream-box-container" id="message-container">
                        <div class="dream-box" id="message-text"></div>
                    </div>
                </div>

                <div class="song-info">
                    <div class="song-title" id="song-title">Ch·ªçn b√†i h√°t...</div>
                </div>

                <div class="progress-container" id="progress-container">
                    <div class="progress" id="progress"></div>
                </div>
                <div class="time-stamps">
                    <span id="current-time">0:00</span>
                    <span id="duration">0:00</span>
                </div>

                <div class="control-group">
                    <button class="btn" id="fav-btn" title="Y√™u th√≠ch"><i class="far fa-heart"></i></button>
                    <div class="repeat-btn-wrapper">
                        <button class="btn" id="repeat-btn" title="L·∫∑p l·∫°i"><i class="fas fa-redo"></i></button>
                        <div class="repeat-badge" id="repeat-badge"></div>
                    </div>
                    <button class="btn" id="shuffle-btn" title="Tr·ªôn b√†i"><i class="fas fa-random"></i></button>
                    <div class="sleep-timer-wrapper">
                        <button class="btn" id="sleep-btn" title="H·∫πn gi·ªù t·∫Øt"><i class="fas fa-clock"></i></button>
                        <div class="sleep-timer-dropdown" id="sleep-dropdown">
                            <div class="sleep-option" data-minutes="15">15 ph√∫t</div>
                            <div class="sleep-option" data-minutes="30">30 ph√∫t</div>
                            <div class="sleep-option" data-minutes="60">60 ph√∫t</div>
                            <div class="sleep-option cancel" data-minutes="0">H·ªßy h·∫πn gi·ªù</div>
                        </div>
                        <div class="sleep-timer-badge" id="sleep-badge"></div>
                    </div>
                    <button class="btn" id="list-btn" title="Danh s√°ch"><i class="fas fa-list"></i></button>
                </div>
                <div class="main-controls">
                    <button class="btn" id="prev-btn"><i class="fas fa-step-backward"></i></button>
                    <button class="btn btn-big" id="play-btn"><i class="fas fa-play"></i></button>
                    <button class="btn" id="next-btn"><i class="fas fa-step-forward"></i></button>
                </div>
            </div>
        </section>

        <section id="diary-section" class="content-section">
            <div class="diary-container">
                <h2>Nh·∫≠t K√Ω T√¢m Tr·∫°ng</h2>
                <p class="diary-subtitle">H√¥m nay D√™ B√¥ng th·∫•y th·∫ø n√†o?</p>

                <div class="mood-selector">
                    <div class="mood-item selected" data-mood="vui">
                        <div class="emoji">üòä</div>
                        <div class="label">Vui</div>
                    </div>
                    <div class="mood-item" data-mood="buon">
                        <div class="emoji">üòî</div>
                        <div class="label">Bu·ªìn</div>
                    </div>
                    <div class="mood-item" data-mood="nho">
                        <div class="emoji">ü•∫</div>
                        <div class="label">Nh·ªõ</div>
                    </div>
                    <div class="mood-item" data-mood="gian">
                        <div class="emoji">üò†</div>
                        <div class="label">Gi·∫≠n</div>
                    </div>
                    <div class="mood-item" data-mood="met">
                        <div class="emoji">üò´</div>
                        <div class="label">M·ªát</div>
                    </div>
                </div>

                <div class="diary-input-area">
                    <textarea id="diary-content" placeholder="K·ªÉ cho anh nghe ƒëi..."></textarea>
                </div>

                <button class="send-btn" id="send-diary-btn">
                    <span>G·ª≠i ƒëi</span> <i class="fas fa-paper-plane"></i>
                </button>
            </div>
        </section>
    </div>

    <div class="modal-overlay" id="modal-overlay"></div>

    <div class="modal" id="playlist-modal">
        <div class="modal-header">
            <h3>Danh s√°ch b√†i h√°t</h3>
            <div class="search-wrapper"> <!-- Wrapper for positioning -->
                <div class="search-container">
                    <i class="fas fa-search search-icon"></i>
                    <input type="text" id="search-input" placeholder="T√¨m ki·∫øm...">
                </div>
            </div>
            <button class="btn" id="close-modal"><i class="fas fa-times"></i></button>
        </div>


        <div class="playlist-items" id="playlist-container">
            <!-- Items injected by JS -->
        </div>
    </div>

    <audio id="audio"></audio>

    <!-- Password Modal -->
    <div class="modal" id="password-modal">
        <div class="modal-header">
            <h3>üîê V√πng B√≠ M·∫≠t</h3>
            <button class="btn" id="close-password-modal"><i class="fas fa-times"></i></button>
        </div>
        <div class="password-content">
            <p>Ch·ªâ d√†nh cho D√™ B√¥ng th√¥i nh√©!</p>
            <div class="password-input-container">
                <input type="password" id="secret-password" placeholder="V√πng b√≠ m·∫≠t, c·∫ßn nh·∫≠p m·∫≠t m√£ t√¨nh y√™u: ‚ù§Ô∏è">
                <button id="unlock-btn" class="send-btn">M·ªü Kh√≥a</button>
            </div>
        </div>
    </div>

    <!-- Load Playlist Data -->
    <script src="assets/js/songs.js"></script>
    <script src="assets/js/diary.js"></script>
    <script src="assets/js/main.js"></script>


</html>